main:
  steps:
    - init:
        assign:
          - project_id: "profitscout-fida8"
          - region: "us-central1"

    - call_momentum_scanner:
        call: http.post
        args:
          url: ${"https://" + region + "-" + project_id + ".cloudfunctions.net/run_momentum_scanner"}
          auth: { type: OIDC }
          timeout: 600

    - log_finish:
        call: sys.log
        args:
          text: "Momentum Scanner workflow finished successfully."

    - done:
        return: "Workflow finished successfully."
